{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../addvehicle/api.service\";\nimport * as i3 from \"src/app/app.tokenservice\";\n//import { Vehicle } from './vehicle';\nexport class MyVehicleComponent {\n  constructor(router, route, apiService, tokenService) {\n    this.router = router;\n    this.route = route;\n    this.apiService = apiService;\n    this.tokenService = tokenService;\n    this.uservehicle = null;\n  }\n  ngOnInit() {\n    this.userid = this.tokenService.getid();\n    this.getvehicleByUserID(this.userid);\n  }\n  getvehicleByUserID(userId) {\n    this.apiService.getVehiclebuUser(userId).subscribe(vehicle => {\n      this.uservehicle = vehicle;\n      //     \n    }, error => {\n      console.log(error);\n    });\n  }\n  deleteVehicle() {\n    this.apiService.deleteVehicle(this.uservehicle.registrationNo).subscribe(response => {\n      console.log(response);\n    });\n    this.router.navigate(['my-vehicle']);\n  }\n}\nMyVehicleComponent.ɵfac = function MyVehicleComponent_Factory(t) {\n  return new (t || MyVehicleComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.VehicleApiService), i0.ɵɵdirectiveInject(i3.TokenService));\n};\nMyVehicleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MyVehicleComponent,\n  selectors: [[\"app-my-vehicle\"]],\n  decls: 60,\n  vars: 13,\n  consts: [[1, \"text-center\", \"mb-4\"], [1, \"container\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#registrationModal\", 1, \"btn\", \"btn-primary\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#pucModal\", 1, \"btn\", \"btn-primary\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"id\", \"registrationModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"registrationModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"registrationModalLabel\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"id\", \"pucModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"pucModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"id\", \"pucModalLabel\", 1, \"modal-title\"]],\n  template: function MyVehicleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\", 0);\n      i0.ɵɵtext(1, \"My Vehicle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"p\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\");\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\");\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\");\n      i0.ɵɵtext(10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"p\");\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"p\");\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 2);\n      i0.ɵɵtext(16, \" Show Insurance Details \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"br\")(18, \"br\");\n      i0.ɵɵelementStart(19, \"button\", 3);\n      i0.ɵɵtext(20, \" Show PUC Details \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"br\")(22, \"br\")(23, \"br\");\n      i0.ɵɵelementStart(24, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function MyVehicleComponent_Template_button_click_24_listener() {\n        return ctx.deleteVehicle();\n      });\n      i0.ɵɵtext(25, \"Delete vehicle\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"div\", 5)(27, \"div\", 6)(28, \"div\", 7)(29, \"div\", 8)(30, \"h5\", 9);\n      i0.ɵɵtext(31, \"Vehicle Insurance Details\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"div\", 10)(33, \"p\");\n      i0.ɵɵtext(34);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"p\");\n      i0.ɵɵtext(36);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"p\");\n      i0.ɵɵtext(38);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"p\");\n      i0.ɵɵtext(40);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"div\", 11)(42, \"button\", 12);\n      i0.ɵɵtext(43, \"Close\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(44, \"div\", 13)(45, \"div\", 6)(46, \"div\", 7)(47, \"div\", 8)(48, \"h5\", 14);\n      i0.ɵɵtext(49, \"Vehicle PUC Details\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(50, \"div\", 10)(51, \"p\");\n      i0.ɵɵtext(52);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"p\");\n      i0.ɵɵtext(54);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"p\");\n      i0.ɵɵtext(56);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(57, \"div\", 11)(58, \"button\", 12);\n      i0.ɵɵtext(59, \"Close\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Registration No : \", ctx.uservehicle.registrationNo, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"VehicleType : \", ctx.uservehicle.vehicleType.type, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Max Passange allowed in Vehicle : \", ctx.uservehicle.vehicleType.maxPassengersAllowed, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"RTO Name : \", ctx.uservehicle.rtoName, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Registration Date : \", ctx.uservehicle.registrationDate, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Registration Expires On : \", ctx.uservehicle.registrationExpiresOn, \"\");\n      i0.ɵɵadvance(20);\n      i0.ɵɵtextInterpolate1(\"Insurance Company Name : \", ctx.uservehicle.insuranceCompanyName, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Insurance No. : \", ctx.uservehicle.insuranceNo, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Insuranced On : \", ctx.uservehicle.insurancedOn, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Insurance Expires On : \", ctx.uservehicle.insuranceExpiresOn, \"\");\n      i0.ɵɵadvance(12);\n      i0.ɵɵtextInterpolate1(\"PUC Certificate No : \", ctx.uservehicle.pucCertificateNo, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"PUC Issued On : \", ctx.uservehicle.pucIssuedOn, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"PUC Expires On : \", ctx.uservehicle.pucValidUntil, \"\");\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["MyVehicleComponent","constructor","router","route","apiService","tokenService","ngOnInit","userid","getid","getvehicleByUserID","userId","getVehiclebuUser","subscribe","vehicle","uservehicle","error","console","log","deleteVehicle","registrationNo","response","navigate","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\acer pc\\Documents\\GitHub\\RideSharingPlatform\\Frontend\\ridesharingplatform\\src\\app\\VehicleManagement\\my-vehicle\\my-vehicle.component.ts","C:\\Users\\acer pc\\Documents\\GitHub\\RideSharingPlatform\\Frontend\\ridesharingplatform\\src\\app\\VehicleManagement\\my-vehicle\\my-vehicle.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Vehicle } from '../models/model.vehicle';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { VehicleApiService } from '../addvehicle/api.service';\nimport { TokenService } from 'src/app/app.tokenservice';\n//import { Vehicle } from './vehicle';\n\n@Component({\n  selector: 'app-my-vehicle',\n  templateUrl: './my-vehicle.component.html',\n  styleUrls: ['./my-vehicle.component.scss']\n})\nexport class MyVehicleComponent implements OnInit{\n\n  uservehicle:Vehicle =null;\n  userid:string;\n\n  constructor(private router: Router,private route: ActivatedRoute, private apiService: VehicleApiService,private tokenService: TokenService){}\n\n  ngOnInit(): void {\n    this.userid=this.tokenService.getid();\n\n    this.getvehicleByUserID(this.userid);\n\n  }\n\n  getvehicleByUserID(userId: string): void{\n    this.apiService.getVehiclebuUser(userId).subscribe(\n      (vehicle:Vehicle) => {\n        this.uservehicle =vehicle;\n    //     \n      },\n      (error:any) => {\n        console.log(error);\n      });\n    \n  }\n  deleteVehicle(): void{\n    this.apiService.deleteVehicle(this.uservehicle.registrationNo).subscribe(response => {\n      console.log(response);\n    });\n      this.router.navigate(['my-vehicle']);\n    \n  }\n\n}\n\n\n","<h2 class=\"text-center mb-4\">My Vehicle</h2>\n<div class=\"container\">\n<p>Registration No : {{uservehicle.registrationNo}}</p>\n<p>VehicleType : {{uservehicle.vehicleType.type}}</p>\n<p>Max Passange allowed in Vehicle : {{uservehicle.vehicleType.maxPassengersAllowed}}</p>\n<p>RTO Name : {{uservehicle.rtoName}}</p>\n<p>Registration Date : {{uservehicle.registrationDate}}</p>\n<p>Registration Expires On : {{uservehicle.registrationExpiresOn}}</p>\n<button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#registrationModal\">\n    Show Insurance Details\n  </button><br><br>\n  <button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#pucModal\">\n    Show PUC Details\n  </button><br>\n  <br>\n  <br>\n  <button class=\"btn btn-primary\" (click)=\"deleteVehicle()\">Delete vehicle</button>\n\n</div>\n\n<!-- Insurance Modal -->\n<div  class=\"modal fade\" id=\"registrationModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"registrationModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"registrationModalLabel\">Vehicle Insurance Details</h5>\n          <!-- <button type=\"button\" id=\"closeModal\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button> -->\n            \n          \n        </div>\n        <div class=\"modal-body\">\n            <p>Insurance Company Name : {{uservehicle.insuranceCompanyName}}</p>\n            <p>Insurance No. : {{uservehicle.insuranceNo}}</p>\n            <p>Insuranced On : {{uservehicle.insurancedOn}}</p>\n            <p>Insurance Expires On : {{uservehicle.insuranceExpiresOn}}</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n          \n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PUC Modal -->\n  <div  class=\"modal fade\" id=\"pucModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"pucModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"pucModalLabel\">Vehicle PUC Details</h5>\n          <!-- <button type=\"button\" id=\"closeModal\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button> -->\n            \n          \n        </div>\n        <div class=\"modal-body\">\n            <p>PUC Certificate No : {{uservehicle.pucCertificateNo}}</p>\n            <p>PUC Issued On : {{uservehicle.pucIssuedOn}}</p>\n            <p>PUC Expires On : {{uservehicle.pucValidUntil}}</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n          \n        </div>\n      </div>\n    </div>\n  </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}