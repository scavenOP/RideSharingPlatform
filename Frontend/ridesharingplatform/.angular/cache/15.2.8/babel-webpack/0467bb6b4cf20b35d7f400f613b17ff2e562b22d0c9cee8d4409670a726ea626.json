{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../addvehicle/api.service\";\nimport * as i3 from \"src/app/app.tokenservice\";\nimport * as i4 from \"@angular/common\";\nfunction MyVehicleComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 1);\n    i0.ɵɵtext(2, \"You have not added any Vehicle . \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MyVehicleComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 1);\n    i0.ɵɵtext(2, \"My Vehicle\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 2)(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 3);\n    i0.ɵɵtext(17, \" Show Insurance Details \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"br\")(19, \"br\");\n    i0.ɵɵelementStart(20, \"button\", 4);\n    i0.ɵɵtext(21, \" Show PUC Details \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"br\")(23, \"br\")(24, \"br\");\n    i0.ɵɵelementStart(25, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function MyVehicleComponent_div_1_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteVehicle());\n    });\n    i0.ɵɵtext(26, \"Delete vehicle\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 6)(28, \"div\", 7)(29, \"div\", 8)(30, \"div\", 9)(31, \"h5\", 10);\n    i0.ɵɵtext(32, \"Vehicle Insurance Details\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 11)(34, \"p\");\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"p\");\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"p\");\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"p\");\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(42, \"div\", 12)(43, \"button\", 13);\n    i0.ɵɵtext(44, \"Close\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(45, \"div\", 14)(46, \"div\", 7)(47, \"div\", 8)(48, \"div\", 9)(49, \"h5\", 15);\n    i0.ɵɵtext(50, \"Vehicle PUC Details\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(51, \"div\", 11)(52, \"p\");\n    i0.ɵɵtext(53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"p\");\n    i0.ɵɵtext(55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"p\");\n    i0.ɵɵtext(57);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(58, \"div\", 12)(59, \"button\", 13);\n    i0.ɵɵtext(60, \"Close\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Registration No : \", ctx_r1.uservehicle.registrationNo, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"VehicleType : \", ctx_r1.uservehicle.vehicleType.type, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Max Passange allowed in Vehicle : \", ctx_r1.uservehicle.vehicleType.maxPassengersAllowed, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"RTO Name : \", ctx_r1.uservehicle.rtoName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Registration Date : \", ctx_r1.uservehicle.registrationDate, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Registration Expires On : \", ctx_r1.uservehicle.registrationExpiresOn, \"\");\n    i0.ɵɵadvance(20);\n    i0.ɵɵtextInterpolate1(\"Insurance Company Name : \", ctx_r1.uservehicle.insuranceCompanyName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Insurance No. : \", ctx_r1.uservehicle.insuranceNo, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Insuranced On : \", ctx_r1.uservehicle.insurancedOn, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Insurance Expires On : \", ctx_r1.uservehicle.insuranceExpiresOn, \"\");\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate1(\"PUC Certificate No : \", ctx_r1.uservehicle.pucCertificateNo, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"PUC Issued On : \", ctx_r1.uservehicle.pucIssuedOn, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"PUC Expires On : \", ctx_r1.uservehicle.pucValidUntil, \"\");\n  }\n}\n//import { Vehicle } from './vehicle';\nexport class MyVehicleComponent {\n  constructor(router, route, apiService, tokenService) {\n    this.router = router;\n    this.route = route;\n    this.apiService = apiService;\n    this.tokenService = tokenService;\n    this.uservehicle = null;\n  }\n  ngOnInit() {\n    this.userid = this.tokenService.getid();\n    this.getvehicleByUserID(this.userid);\n    console.log(this.uservehicle);\n  }\n  getvehicleByUserID(userId) {\n    this.apiService.getVehiclebuUser(userId).subscribe(vehicle => {\n      this.uservehicle = vehicle;\n      //     \n    }, error => {\n      console.log(error);\n    });\n  }\n  deleteVehicle() {\n    this.apiService.deleteVehicle(this.uservehicle.registrationNo).subscribe(response => {\n      console.log(response);\n    });\n    this.router.navigate(['my-vehicle']);\n  }\n}\nMyVehicleComponent.ɵfac = function MyVehicleComponent_Factory(t) {\n  return new (t || MyVehicleComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.VehicleApiService), i0.ɵɵdirectiveInject(i3.TokenService));\n};\nMyVehicleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MyVehicleComponent,\n  selectors: [[\"app-my-vehicle\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [1, \"text-center\", \"mb-4\"], [1, \"container\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#registrationModal\", 1, \"btn\", \"btn-primary\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#pucModal\", 1, \"btn\", \"btn-primary\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"id\", \"registrationModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"registrationModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"registrationModalLabel\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"id\", \"pucModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"pucModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"id\", \"pucModalLabel\", 1, \"modal-title\"]],\n  template: function MyVehicleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, MyVehicleComponent_div_0_Template, 3, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, MyVehicleComponent_div_1_Template, 61, 13, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.uservehicle == null);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.uservehicle != null);\n    }\n  },\n  dependencies: [i4.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","MyVehicleComponent","constructor","router","route","apiService","tokenService","ngOnInit","userid","getid","getvehicleByUserID","console","log","uservehicle","userId","getVehiclebuUser","subscribe","vehicle","error","deleteVehicle","registrationNo","response","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\acer pc\\Documents\\GitHub\\RideSharingPlatform\\Frontend\\ridesharingplatform\\src\\app\\VehicleManagement\\my-vehicle\\my-vehicle.component.html","C:\\Users\\acer pc\\Documents\\GitHub\\RideSharingPlatform\\Frontend\\ridesharingplatform\\src\\app\\VehicleManagement\\my-vehicle\\my-vehicle.component.ts"],"sourcesContent":["<div *ngIf=\"uservehicle==null\">\n  <h2 class=\"text-center mb-4\">You have not added any Vehicle . </h2>\n</div>\n<div *ngIf=\"uservehicle!=null\">\n<h2 class=\"text-center mb-4\">My Vehicle</h2>\n<div class=\"container\">\n<p>Registration No : {{uservehicle.registrationNo}}</p>\n<p>VehicleType : {{uservehicle.vehicleType.type}}</p>\n<p>Max Passange allowed in Vehicle : {{uservehicle.vehicleType.maxPassengersAllowed}}</p>\n<p>RTO Name : {{uservehicle.rtoName}}</p>\n<p>Registration Date : {{uservehicle.registrationDate}}</p>\n<p>Registration Expires On : {{uservehicle.registrationExpiresOn}}</p>\n<button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#registrationModal\">\n    Show Insurance Details\n  </button><br><br>\n  <button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#pucModal\">\n    Show PUC Details\n  </button><br>\n  <br>\n  <br>\n  <button class=\"btn btn-primary\" (click)=\"deleteVehicle()\">Delete vehicle</button>\n\n</div>\n\n<!-- Insurance Modal -->\n<div  class=\"modal fade\" id=\"registrationModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"registrationModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"registrationModalLabel\">Vehicle Insurance Details</h5>\n          <!-- <button type=\"button\" id=\"closeModal\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button> -->\n            \n          \n        </div>\n        <div class=\"modal-body\">\n            <p>Insurance Company Name : {{uservehicle.insuranceCompanyName}}</p>\n            <p>Insurance No. : {{uservehicle.insuranceNo}}</p>\n            <p>Insuranced On : {{uservehicle.insurancedOn}}</p>\n            <p>Insurance Expires On : {{uservehicle.insuranceExpiresOn}}</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n          \n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PUC Modal -->\n  <div  class=\"modal fade\" id=\"pucModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"pucModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"pucModalLabel\">Vehicle PUC Details</h5>\n          <!-- <button type=\"button\" id=\"closeModal\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button> -->\n            \n          \n        </div>\n        <div class=\"modal-body\">\n            <p>PUC Certificate No : {{uservehicle.pucCertificateNo}}</p>\n            <p>PUC Issued On : {{uservehicle.pucIssuedOn}}</p>\n            <p>PUC Expires On : {{uservehicle.pucValidUntil}}</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n          \n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Vehicle } from '../models/model.vehicle';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { VehicleApiService } from '../addvehicle/api.service';\nimport { TokenService } from 'src/app/app.tokenservice';\n//import { Vehicle } from './vehicle';\n\n@Component({\n  selector: 'app-my-vehicle',\n  templateUrl: './my-vehicle.component.html',\n  styleUrls: ['./my-vehicle.component.scss']\n})\nexport class MyVehicleComponent implements OnInit{\n\n  uservehicle:Vehicle =null;\n  userid:string;\n\n  constructor(private router: Router,private route: ActivatedRoute, private apiService: VehicleApiService,private tokenService: TokenService){}\n\n  ngOnInit(): void {\n    this.userid=this.tokenService.getid();\n\n    this.getvehicleByUserID(this.userid);\n    console.log(this.uservehicle);\n\n  }\n\n  getvehicleByUserID(userId: string): void{\n    this.apiService.getVehiclebuUser(userId).subscribe(\n      (vehicle:Vehicle) => {\n        this.uservehicle =vehicle;\n    //     \n      },\n      (error:any) => {\n        console.log(error);\n      });\n    \n  }\n  deleteVehicle(): void{\n    this.apiService.deleteVehicle(this.uservehicle.registrationNo).subscribe(response => {\n      console.log(response);\n    });\n      this.router.navigate(['my-vehicle']);\n    \n  }\n\n}\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}