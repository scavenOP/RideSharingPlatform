{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../addvehicle/api.service\";\nimport * as i3 from \"src/app/app.tokenservice\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../loading/loading.component\";\nfunction ApproveRejectVehicleComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-loading\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApproveRejectVehicleComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"h2\", 15);\n    i0.ɵɵtext(2, \"Vehicle Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 16)(4, \"div\", 17)(5, \"p\", 18);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 18);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 19);\n    i0.ɵɵtext(10, \" Show Devicle Details \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 20);\n    i0.ɵɵtext(12, \" <\");\n    i0.ɵɵelementStart(13, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ApproveRejectVehicleComponent_div_1_div_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.navigatePrevious());\n    });\n    i0.ɵɵtext(14, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ApproveRejectVehicleComponent_div_1_div_1_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.navigateNext());\n    });\n    i0.ɵɵtext(16, \"Next\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Vehicle Registration No: \", ctx_r2.vehicle.registrationNo, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Vehicle Type: \", ctx_r2.vehicle.vehicleType.type, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.isFirstVehicle());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.isLastVehicle());\n  }\n}\nfunction ApproveRejectVehicleComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ApproveRejectVehicleComponent_div_1_div_1_Template, 17, 4, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"h5\", 6);\n    i0.ɵɵtext(7, \"Vehicle Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 7)(9, \"span\", 8);\n    i0.ɵɵtext(10, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 9)(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 10)(25, \"button\", 11);\n    i0.ɵɵtext(26, \"Close\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ApproveRejectVehicleComponent_div_1_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.approveVehicle());\n    });\n    i0.ɵɵtext(28, \"Approve\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ApproveRejectVehicleComponent_div_1_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.rejectVehicle());\n    });\n    i0.ɵɵtext(30, \"Reject\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.vehicle);\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate1(\"Registration No : \", ctx_r1.vehicle.registrationNo, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"VehicleType : \", ctx_r1.vehicle.vehicleType.type, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Max Passange allowed in Vehicle : \", ctx_r1.vehicle.vehicleType.maxPassengersAllowed, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"RTO Name : \", ctx_r1.vehicle.rtoName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Registration Date : \", ctx_r1.vehicle.registrationDate, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Registration Expires On : \", ctx_r1.vehicle.registrationExpiresOn, \"\");\n  }\n}\nexport class ApproveRejectVehicleComponent {\n  get vehicle() {\n    return this.vehicles[this.currentVehicleIndex];\n  }\n  constructor(router, route, apiService, tokenService) {\n    this.router = router;\n    this.route = route;\n    this.apiService = apiService;\n    this.tokenService = tokenService;\n    this.vehicles = []; // Contains the list of pending vehicles\n    this.currentVehicleIndex = 0;\n  }\n  ngOnInit() {\n    this.isLoading = true;\n    this.pendingvehicles();\n    this.isLoading = false;\n  }\n  pendingvehicles() {\n    this.apiService.getPendingVehicles().subscribe(response => {\n      this.vehicles = response;\n      //console.log(this.tokenService.getToken());\n    });\n  }\n\n  navigateNext() {\n    if (!this.isLastVehicle()) {\n      this.currentVehicleIndex++;\n    }\n  }\n  navigatePrevious() {\n    if (!this.isFirstVehicle()) {\n      this.currentVehicleIndex--;\n    }\n  }\n  isFirstVehicle() {\n    return this.currentVehicleIndex === 0;\n  }\n  isLastVehicle() {\n    return this.currentVehicleIndex === this.vehicles.length - 1;\n  }\n  approveVehicle() {\n    // Implement the logic to approve the current vehicle\n    // Example:\n    console.log('Vehicle approved:', this.vehicle);\n  }\n  rejectVehicle() {\n    // Implement the logic to reject the current vehicle\n    // Example:\n    console.log('Vehicle rejected:', this.vehicle);\n  }\n}\nApproveRejectVehicleComponent.ɵfac = function ApproveRejectVehicleComponent_Factory(t) {\n  return new (t || ApproveRejectVehicleComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.VehicleApiService), i0.ɵɵdirectiveInject(i3.TokenService));\n};\nApproveRejectVehicleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ApproveRejectVehicleComponent,\n  selectors: [[\"app-approve-reject-vehicle\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"class\", \"container mt-4\", 4, \"ngIf\"], [\"id\", \"vehicleDetailsModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"vehicleDetailsModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"vehicleDetailsModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"container\", \"mt-4\"], [1, \"mb-3\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-text\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#vehicleDetailsModal\", 1, \"btn\", \"btn-primary\"], [1, \"card-footer\"], [1, \"btn\", \"btn-primary\", \"mr-2\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"]],\n  template: function ApproveRejectVehicleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ApproveRejectVehicleComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, ApproveRejectVehicleComponent_div_1_Template, 31, 7, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n    }\n  },\n  dependencies: [i4.NgIf, i5.LoadingComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ApproveRejectVehicleComponent","vehicle","vehicles","currentVehicleIndex","constructor","router","route","apiService","tokenService","ngOnInit","isLoading","pendingvehicles","getPendingVehicles","subscribe","response","navigateNext","isLastVehicle","navigatePrevious","isFirstVehicle","length","approveVehicle","console","log","rejectVehicle","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\acer pc\\Documents\\GitHub\\RideSharingPlatform\\Frontend\\ridesharingplatform\\src\\app\\VehicleManagement\\approve-reject-vehicle\\approve-reject-vehicle.component.html","C:\\Users\\acer pc\\Documents\\GitHub\\RideSharingPlatform\\Frontend\\ridesharingplatform\\src\\app\\VehicleManagement\\approve-reject-vehicle\\approve-reject-vehicle.component.ts"],"sourcesContent":["<div *ngIf=\"isLoading\">\n      <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoading\">\n<div *ngIf=\"vehicle\" class=\"container mt-4\">\n    <h2 class=\"mb-3\">Vehicle Details</h2>\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <p class=\"card-text\">Vehicle Registration No: {{ vehicle.registrationNo }}</p>\n        <p class=\"card-text\">Vehicle Type: {{ vehicle.vehicleType.type }}</p>\n        <button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#vehicleDetailsModal\">\n          Show Devicle Details\n        </button>\n      </div>\n      <div class=\"card-footer\">\n        <<button class=\"btn btn-primary mr-2\" (click)=\"navigatePrevious()\" [disabled]=\"isFirstVehicle()\">Previous</button>\n        <button class=\"btn btn-primary\" (click)=\"navigateNext()\" [disabled]=\"isLastVehicle()\">Next</button>\n      </div>\n    </div>\n  \n    <!-- <div class=\"text-center mt-3\">\n      <button class=\"btn btn-primary mr-2\" (click)=\"navigatePrevious()\" [disabled]=\"isFirstVehicle()\">Previous</button>\n      <button class=\"btn btn-primary\" (click)=\"navigateNext()\" [disabled]=\"isLastVehicle()\">Next</button>\n    </div> -->\n  </div>\n  \n  <!-- Bootstrap modal for vehicle details -->\n  <div class=\"modal fade\" id=\"vehicleDetailsModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"vehicleDetailsModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"vehicleDetailsModalLabel\">Vehicle Details</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Registration No : {{vehicle.registrationNo}}</p>\n<p>VehicleType : {{vehicle.vehicleType.type}}</p>\n<p>Max Passange allowed in Vehicle : {{vehicle.vehicleType.maxPassengersAllowed}}</p>\n<p>RTO Name : {{vehicle.rtoName}}</p>\n<p>Registration Date : {{vehicle.registrationDate}}</p>\n<p>Registration Expires On : {{vehicle.registrationExpiresOn}}</p>\n          <!-- Add more details as needed -->\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n          <button type=\"button\" class=\"btn btn-success\" (click)=\"approveVehicle()\">Approve</button>\n          <button type=\"button\" class=\"btn btn-danger\" (click)=\"rejectVehicle()\">Reject</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n  \n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { VehicleApiService } from '../addvehicle/api.service';\nimport { TokenService } from 'src/app/app.tokenservice';\nimport { Vehicle } from '../models/model.vehicle';\n\n@Component({\n  selector: 'app-approve-reject-vehicle',\n  templateUrl: './approve-reject-vehicle.component.html',\n  styleUrls: ['./approve-reject-vehicle.component.scss']\n})\nexport class ApproveRejectVehicleComponent implements OnInit {\n  vehicles: Vehicle[] = []; // Contains the list of pending vehicles\n  currentVehicleIndex = 0;\n  isLoading:boolean;\n\n  get vehicle(): Vehicle | undefined {\n    return this.vehicles[this.currentVehicleIndex];\n  }\n\n\n\n  constructor(private router: Router,private route: ActivatedRoute, private apiService: VehicleApiService,private tokenService: TokenService){}\n\n  ngOnInit(): void {\n    this.isLoading = true;\n    this.pendingvehicles();\n    this.isLoading = false;\n\n  }\n\n  pendingvehicles(): void {\n    this.apiService.getPendingVehicles().subscribe((response: any[]) => {\n\n\n      this.vehicles = response;\n      \n      //console.log(this.tokenService.getToken());\n\n    });\n  }\n\n  navigateNext() {\n    if (!this.isLastVehicle()) {\n      this.currentVehicleIndex++;\n    }\n  }\n\n  navigatePrevious() {\n    if (!this.isFirstVehicle()) {\n      this.currentVehicleIndex--;\n    }\n  }\n\n  isFirstVehicle(): boolean {\n    return this.currentVehicleIndex === 0;\n  }\n\n  isLastVehicle(): boolean {\n    return this.currentVehicleIndex === this.vehicles.length - 1;\n  }\n\n  approveVehicle() {\n    // Implement the logic to approve the current vehicle\n    // Example:\n    console.log('Vehicle approved:', this.vehicle);\n  }\n\n  rejectVehicle() {\n    // Implement the logic to reject the current vehicle\n    // Example:\n    console.log('Vehicle rejected:', this.vehicle);\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}